# Модуль "PageManager"

Модуль додає повноцінний інтерфейс керування сторінками `/admin/pages/manage` (створення сторінок, категорій та текстових блоків)
у вигляді незалежного пакета, який можна перенести до будь-якого Laravel-проєкту.

## Встановлення в інший проєкт

1. **Скопіюйте файли модуля**
   - Перенесіть директорію `app/Modules/PageManager` у свій проєкт.

2. **Зареєструйте сервіс-провайдер**
   - В `config/app.php` додайте `App\Modules\PageManager\PageManagerServiceProvider::class` до масиву `providers`.

3. **Запустіть міграції модуля**
   - Після реєстрації провайдера виконайте `php artisan migrate`, щоб створити таблиці `pages`, `page_categories` та `text_blocks`.
   - Якщо потрібно змінити або зберегти міграції поряд з іншими файлами проєкту, опублікуйте їх:
     ```bash
     php artisan vendor:publish --tag=page-manager-migrations
     ```

4. **Налаштуйте маршрути (опційно)**
   - За замовчуванням модуль реєструє маршрути з префіксом `admin/pages/manage`, ім'ям `pages.manage.*` та middleware `['web', 'auth.admin']`.
   - Опублікуйте конфіг і змініть налаштування за потреби:
     ```bash
     php artisan vendor:publish --tag=page-manager-config
     ```
   - У файлі `config/page-manager.php` доступні параметри `route_prefix`, `route_name_prefix` та `middleware`.

5. **Опублікуйте або перевизначте шаблони (за потреби)**
   - Щоб редагувати Blade-шаблони, виконайте:
     ```bash
     php artisan vendor:publish --tag=page-manager-views
     ```
   - Після цього шаблони з'являться у `resources/views/vendor/page-manager` і їх можна змінювати під потреби проєкту.

6. **Додайте пункт у навігацію адмінки**
   - Створіть посилання на маршрут `pages.manage.index`, щоб адміністратори мали швидкий доступ до інтерфейсу керування.

Після виконання цих кроків сторінка керування (`/admin/pages/manage`) стане доступною у вашій адмін-панелі та надаватиме той самий функціонал, що й у цьому репозиторії.

### Підсвітка синтаксису

- Редактор вмісту блоків використовує CodeMirror через CDN, але автоматично перемикається на вбудований легкий підсвічувач, якщо зовнішні скрипти недоступні (наприклад, у закритій мережі).
- Якщо потрібна повноцінна робота CodeMirror офлайн, опублікуйте або додайте його пакети у публічні активи проєкту та замініть URL у `resources/views/blocks/partials/form.blade.php`.
